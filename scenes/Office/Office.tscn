[gd_scene load_steps=16 format=2]

[ext_resource path="res://assets/01_characters/03_pnjs/cityHallMan-Sheet.png" type="Texture" id=1]
[ext_resource path="res://scenes/Notebook/Notebook.tscn" type="PackedScene" id=2]
[ext_resource path="res://assets/02_architecture/01_genericPieces/03_furniture/secretaire.png" type="Texture" id=3]
[ext_resource path="res://scenes/NPC.tscn" type="PackedScene" id=4]
[ext_resource path="res://scenes/Palud/TableH.tscn" type="PackedScene" id=5]
[ext_resource path="res://assets/02_architecture/06_questRoom/background.png" type="Texture" id=6]
[ext_resource path="res://scenes/Interaction/QuestController.tscn" type="PackedScene" id=7]
[ext_resource path="res://scenes/Interaction/DialogueController.tscn" type="PackedScene" id=8]
[ext_resource path="res://scenes/Player.tscn" type="PackedScene" id=9]
[ext_resource path="res://scenes/Interaction/NotebookController.tscn" type="PackedScene" id=10]
[ext_resource path="res://assets/05_fonts/PixelOperator.ttf" type="DynamicFontData" id=11]
[ext_resource path="res://scenes/Interaction/PressE.tscn" type="PackedScene" id=12]

[sub_resource type="AnimationNodeStateMachinePlayback" id=1]

[sub_resource type="RectangleShape2D" id=2]

[sub_resource type="DynamicFont" id=3]
font_data = ExtResource( 11 )

[node name="Office" type="Node2D"]

[node name="QuestController" parent="." instance=ExtResource( 7 )]

[node name="DialogueController" parent="." instance=ExtResource( 8 )]

[node name="Sprite" type="Sprite" parent="."]
position = Vector2( 320, 180 )
texture = ExtResource( 6 )

[node name="TableH" parent="." instance=ExtResource( 5 )]
position = Vector2( 334, 142 )

[node name="Sprite" parent="TableH" index="0"]
texture = ExtResource( 3 )

[node name="CollisionPolygon2D" parent="TableH" index="1"]
polygon = PoolVector2Array( -22, -6, 22, -6, 22, 16, -22, 16 )

[node name="Walls" type="StaticBody2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Walls"]
polygon = PoolVector2Array( 384, 239, 248, 239, 250, 141, 415, 142, 416, 237, 406, 237, 405, 256, 387, 256, 406, 259, 432, 260, 431, 91, 236, 93, 236, 260, 384, 259 )

[node name="NPC" parent="." instance=ExtResource( 4 )]
position = Vector2( 334, 167 )
HasAutoDialogue = false

[node name="FullyAnimated" parent="NPC" index="2"]
texture = ExtResource( 1 )

[node name="AnimationTree" parent="NPC" index="6"]
parameters/playback = SubResource( 1 )

[node name="OpenMapZone" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="OpenMapZone"]
position = Vector2( 396, 251 )
shape = SubResource( 2 )

[node name="Notebook" parent="." instance=ExtResource( 2 )]
visible = false

[node name="NotebookController" parent="." instance=ExtResource( 10 )]

[node name="Player" parent="." instance=ExtResource( 9 )]
position = Vector2( 334, 217 )

[node name="InfoPlayer" type="ColorRect" parent="."]
visible = false
margin_left = 216.0
margin_top = 80.0
margin_right = 448.0
margin_bottom = 264.0
color = Color( 0.482353, 0.482353, 0.482353, 0.756863 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="InfoPlayer"]
margin_left = 33.0
margin_top = 22.0
margin_right = 204.0
margin_bottom = 158.0
custom_fonts/font = SubResource( 3 )
text = "Utilise les flèches ou awsd 
pour te déplacer

Appuie sur E 
pour parler et intéragir"
align = 1
valign = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="PressE" parent="InfoPlayer" instance=ExtResource( 12 )]
position = Vector2( 156, 106 )
scale = Vector2( 1.5, 1.5 )

[node name="InfoNotebook" type="ColorRect" parent="."]
visible = false
margin_left = 216.0
margin_top = 80.0
margin_right = 448.0
margin_bottom = 264.0
color = Color( 0.482353, 0.482353, 0.482353, 0.756863 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="InfoNotebook"]
margin_left = 33.0
margin_top = 22.0
margin_right = 204.0
margin_bottom = 158.0
custom_fonts/font = SubResource( 3 )
text = "Utilise la souris ou
 les flèches et enter
pour modifier les informations dans le registre"
align = 1
valign = 1
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[connection signal="area_entered" from="OpenMapZone" to="Notebook" method="_on_OpenMapZone_area_entered"]
[connection signal="pressed" from="NotebookController" to="Notebook" method="_on_NotebookController_pressed"]
[connection signal="pressed" from="NotebookController" to="Player" method="_on_NotebookController_pressed"]
[connection signal="SlideInNotebookController" from="Player" to="NotebookController" method="_on_Player_SlideInNotebookController"]

[editable path="TableH"]
[editable path="NPC"]
[editable path="NPC/ListenBox"]
[editable path="NotebookController"]
